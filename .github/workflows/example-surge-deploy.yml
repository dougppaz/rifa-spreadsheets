name: example surge.sh deploy

on: push

jobs:
  surge-deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-node@v4
      with:
        node-version: '20.12.2'
    - run: npm ci
    - run: npm run build
      env:
        NODE_ENV: production
        SCRIPT_GOOGLE_URL: https://script.google.com/macros/s/AKfycbxe0pgqmJ0N1CuD83YEaMgcVOg9_yteBvhcpTMqV0bafSeoGVsMAjKm4pbHo88mJ46y/exec
    - uses: dswistowski/surge-sh-action@v1
      with:
        domain: rifa.dgls.me
        project: ./dist
        login: ${{ vars.SURGE_LOGIN }}
        token: ${{ secrets.SURGE_TOKEN }}

